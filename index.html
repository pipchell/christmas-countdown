<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Christmas Countdown</title>
  <style>
    body, html {
      margin: 0; padding: 0;
      height: 100%;
      background-color: #000000;
      overflow: hidden;
      user-select: none;
    }
    canvas {
      display: block;
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    let w, h;
    let flakes = [];

    // Setup sizes
    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }

    // Initialize snow flakes
    function initFlakes() {
      flakes = [];
      for (let i = 0; i < 100; i++) {
        flakes.push({
          x: Math.random() * w,
          y: Math.random() * h,
          r: Math.random() * 4 + 1,
          d: Math.random() + 1
        });
      }
    }

    // Draw snow flakes
    function drawFlakes() {
      ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
      ctx.beginPath();
      for (let flake of flakes) {
        ctx.moveTo(flake.x, flake.y);
        ctx.arc(flake.x, flake.y, flake.r, 0, Math.PI * 2);
      }
      ctx.fill();
    }

    // Move flakes down
    let angle = 0;
    function moveFlakes() {
      angle += 0.01;
      for (let flake of flakes) {
        flake.y += Math.pow(flake.d, 2) + 1;
        flake.x += Math.sin(angle) * 2;
        if (flake.y > h) {
          flake.x = Math.random() * w;
          flake.y = 0;
        }
      }
    }

    // Draw the countdown text & numbers on canvas
    function drawCountdownText(days, hours, minutes, seconds) {
      const baseFontSize = Math.min(w, h) / 12;

      // Clear previous
      ctx.clearRect(0, 0, w, h);

      // Draw snow first
      drawFlakes();

      // Set text styles that mimic your brand canvas glow:
      ctx.fillStyle = '#17D860';
      ctx.lineWidth = baseFontSize * 0.1;
      ctx.strokeStyle = '#0f9a43';
      ctx.shadowColor = '#17D860';
      ctx.shadowBlur = baseFontSize * 0.15;

      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.font = `900 ${baseFontSize * 1.4}px 'League Spartan', sans-serif`;

      // Draw the title
      ctx.lineJoin = 'round';
      ctx.strokeText('Christmas Countdown', w/2, h * 0.15);
      ctx.fillText('Christmas Countdown', w/2, h * 0.15);

      // Positions for each countdown block horizontally
      const positions = [0.18, 0.42, 0.66, 0.9];

      // Draw each block number and label
      ctx.font = `900 ${baseFontSize * 2.2}px 'League Spartan', sans-serif`;
      for (let i = 0; i < 4; i++) {
        let x = w * positions[i];
        let yNum = h * 0.55;
        let yLabel = h * 0.7;

        // Get value and label
        let value = [days, hours, minutes, seconds][i];
        let label = ['Days', 'Hours', 'Minutes', 'Seconds'][i];

        // Draw glowing stroke + fill for value
        ctx.lineWidth = baseFontSize * 0.15;
        ctx.strokeText(value, x, yNum);
        ctx.fillText(value, x, yNum);

        // Draw label smaller with less glow
        ctx.font = `700 ${baseFontSize * 0.8}px 'League Spartan', sans-serif`;
        ctx.shadowBlur = baseFontSize * 0.05;
        ctx.lineWidth = baseFontSize * 0.05;
        ctx.strokeText(label.toUpperCase(), x, yLabel);
        ctx.fillText(label.toUpperCase(), x, yLabel);

        // Reset big font for next value
        ctx.font = `900 ${baseFontSize * 2.2}px 'League Spartan', sans-serif`;
        ctx.shadowBlur = baseFontSize * 0.15;
      }
    }

    // Update countdown values
    function updateCountdown() {
      const now = new Date();
      let year = now.getFullYear();
      const christmas = new Date(year, 11, 25, 0, 0, 0);
      if (now > christmas) christmas.setFullYear(year + 1);
      const diff = christmas - now;

      if (diff <= 0) {
        drawCountdownText("00", "00", "00", "00");
        return;
      }

      const seconds = String(Math.floor(diff / 1000) % 60).padStart(2, '0');
      const minutes = String(Math.floor(diff / (1000 * 60)) % 60).padStart(2, '0');
      const hours = String(Math.floor(diff / (1000 * 60 * 60)) % 24).padStart(2, '0');
      const days = String(Math.floor(diff / (1000 * 60 * 60 * 24))).padStart(2, '0');

      drawCountdownText(days, hours, minutes, seconds);
    }

    // Animation loop
    function animate() {
      moveFlakes();
      updateCountdown();
      requestAnimationFrame(animate);
    }

    window.addEventListener('resize', () => {
      resize();
      initFlakes();
      updateCountdown();
    });

    // Start
    resize();
    initFlakes();
    animate();
  </script>

  <!-- Load League Spartan font so text matches your brand -->
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@900&display=swap" rel="stylesheet" />
</body>
</html>
